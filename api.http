### Variáveis de Ambiente
### Configure estas variáveis antes de usar as requisições
### Para obter o sessionToken: faça login no navegador, abra DevTools > Application > Cookies > copie o valor de "next-auth.session-token"

### DESENVOLVIMENTO LOCAL
@baseUrl = http://localhost:3001
# @baseUrl = https://projeto-igreja-git-main-leandroarrudas-projects.vercel.app

### PRODUÇÃO (Vercel)
### Como descobrir a URL de produção:
### 1. Acesse https://vercel.com/dashboard
### 2. Clique no seu projeto
### 3. A URL de produção aparece no topo da página (ex: https://seu-projeto.vercel.app)
### 4. Ou vá em Settings > Environment Variables e veja o valor de NEXTAUTH_URL
### 5. Ou use o comando: vercel ls (se tiver Vercel CLI instalado)
@sessionToken = eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..DEJmdHuxGfIE9vy5.kSqMyGSCh4PKlsxvJeIwwThED6sBh5eW2g2PvkbBp_Ky0pao0NCP74yVlB5Mm60EAMRGM58aIvwHXYMttMWX22y-nX8l0IUgDPntWpjpd0ADgZlYjqhdjFDQdQlPOqtrZhP_JgKtPBf3gf7Dg1qzIaBUX6F3gu8vkqsde9vnv8EMc5LQn41M6z4gP96251iNXV3nfR01-J_FPzUnqOXI5pWImzXWjCbxLUbZ0tc.qWbqLtpTdN6IFoM72yqoWQ
@quizId = 5
@userId = 1

### ============================================
### AUTENTICAÇÃO
### ============================================

### Criar novo usuário (não requer autenticação)
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "name": "João Silva",
  "email": "joao@example.com",
  "password": "senha123"
}

### ============================================
### QUIZ - CRUD
### ============================================

### Criar novo quiz (requer ADMIN)
POST {{baseUrl}}/api/quiz
Content-Type: application/json
Cookie: next-auth.session-token={{sessionToken}}

{
  "tema": "História do Brasil"
}

### Listar todos os quizzes (requer ADMIN)
GET {{baseUrl}}/api/quiz
Cookie: next-auth.session-token={{sessionToken}}

### Atualizar quiz (requer ADMIN)
### Pode atualizar tema e/ou status ativo
### Se ativar um quiz, todos os outros serão desativados automaticamente
PUT {{baseUrl}}/api/quiz/{{quizId}}
Content-Type: application/json
Cookie: next-auth.session-token={{sessionToken}}

{
  "tema": "História do Brasil - Atualizado",
  "ativo": true
}

### Deletar quiz (requer ADMIN)
DELETE {{baseUrl}}/api/quiz/{{quizId}}
Cookie: next-auth.session-token={{sessionToken}}

### ============================================
### QUIZ ATIVO
### ============================================

### Buscar quiz ativo (requer autenticação)
### Retorna o quiz ativo, se o usuário já respondeu e o resultado (se já respondeu tudo)
GET {{baseUrl}}/api/quiz/ativo
Cookie: next-auth.session-token={{sessionToken}}

### ============================================
### PERGUNTAS
### ============================================

### Criar uma única pergunta (requer ADMIN)
POST {{baseUrl}}/api/quiz/{{quizId}}/perguntas
Content-Type: application/json
Cookie: next-auth.session-token={{sessionToken}}

{
  "enunciado": "Qual é a capital do Brasil?",
  "alternativaA": "São Paulo",
  "alternativaB": "Rio de Janeiro",
  "alternativaC": "Brasília",
  "alternativaD": "Belo Horizonte",
  "alternativaE": "Salvador",
  "respostaCorreta": "C",
  "tempoSegundos": 30
}

### Criar múltiplas perguntas de uma vez (requer ADMIN)
### Envie um array de perguntas - todas serão criadas em uma transação
### Se qualquer pergunta for inválida, nenhuma será criada (rollback)
POST {{baseUrl}}/api/quiz/{{quizId}}/perguntas
Content-Type: application/json
Cookie: next-auth.session-token={{sessionToken}}

[
  {
    "enunciado": "Com base na introdução de Sábado, qual é o objetivo central dos princípios compartilhados por Paulo nos versículos finais da carta?",
    "alternativaA": "Estabelecer uma liturgia rígida para as reuniões congregacionais.",
    "alternativaB": "Apresentar estratégias de defesa jurídica perante as leis de Roma.",
    "alternativaC": "Revelar segredos práticos para viver uma vida cristã de alegria.",
    "alternativaD": "Organizar a hierarquia administrativa das igrejas da Ásia Menor.",
    "alternativaE": "Debater questões teológicas complexas sobre a natureza do espírito.",
    "respostaCorreta": "C",
    "tempoSegundos": 30,
    "justificativa": "A lição afirma que Paulo compartilha segredos para viver uma vida alegre, independentemente das circunstâncias externas."
  },
  {
    "enunciado": "No conteúdo de Sábado, o que é indicado como a fonte de força para enfrentar os desafios e pressões da vida cotidiana?",
    "alternativaA": "A adoção de princípios bíblicos que geram uma paz interior estável.",
    "alternativaB": "A confiança plena na eficiência dos sistemas de governo terrenos.",
    "alternativaC": "A busca por cargos de liderança para influenciar a sociedade local.",
    "alternativaD": "O isolamento social absoluto para evitar as tentações do mundo.",
    "alternativaE": "A dependência de milagres visíveis para sustentar a fé em crises.",
    "respostaCorreta": "A",
    "tempoSegundos": 30,
    "justificativa": "Existem princípios que nos ajudam a encontrar força interior e experimentar uma paz estável que somente Deus pode dar."
  },
  {
    "enunciado": "Segundo o estudo de Domingo, como Paulo se posiciona emocionalmente ao advertir sobre os 'inimigos da cruz de Cristo'?",
    "alternativaA": "Ele redige uma condenação formal com termos de desprezo e ódio.",
    "alternativaB": "Ele incentiva os fiéis a realizarem debates públicos e confrontos.",
    "alternativaC": "Ele solicita que as autoridades civis punam aqueles que discordam.",
    "alternativaD": "Ele demonstra amor profundo por eles e chega a chorar por sua condição.",
    "alternativaE": "Ele adota uma postura de indiferença total para não contaminar a fé.",
    "respostaCorreta": "D",
    "tempoSegundos": 30,
    "justificativa": "O texto destaca o amor de Paulo por aqueles com quem discorda, mencionando explicitamente que ele chora por eles."
  },
  {
    "enunciado": "No texto de Domingo, qual é a função da Cruz mencionada para diferenciar os modelos de conduta em Efésios 2:11-14?",
    "alternativaA": "Validar a superioridade moral dos cristãos sobre os cidadãos pagãos.",
    "alternativaB": "Exigir o cumprimento rigoroso de ritos para provar a fidelidade real.",
    "alternativaC": "Separar os crentes em grupos distintos baseados no conhecimento bíblico.",
    "alternativaD": "Garantir sucesso material imediato aos que seguem o exemplo de Paulo.",
    "alternativaE": "Derrubar barreiras e nivelar todos como pecadores carentes de Salvador.",
    "respostaCorreta": "E",
    "tempoSegundos": 30,
    "justificativa": "A Cruz derruba barreiras e coloca todos no mesmo nível, reconhecendo a necessidade comum de salvação."
  },
  {
    "enunciado": "De acordo com a lição de Segunda-feira, qual é a promessa definitiva de Cristo em relação aos nossos 'humildes corpos'?",
    "alternativaA": "Que eles serão restaurados à perfeição física da juventude biológica.",
    "alternativaB": "Que serão transformados para serem conforme o corpo glorioso de Jesus.",
    "alternativaC": "Que eles se tornarão invisíveis para habitar em dimensões espirituais.",
    "alternativaD": "Que permanecerão em estado de sono eterno enquanto a alma ascende.",
    "alternativaE": "Que serão gradualmente purificados através de rituais de consagração.",
    "respostaCorreta": "B",
    "tempoSegundos": 30,
    "justificativa": "A nossa pátria está no céu e aguardamos a transformação de nossos corpos humildes para serem semelhantes ao corpo glorioso de Cristo."
  },
  {
    "enunciado": "Conforme o estudo de Segunda-feira, por que a imortalidade cristã é única na visão do filósofo Luc Ferry?",
    "alternativaA": "Porque oferece uma vitória definitiva em termos de identidade individual.",
    "alternativaB": "Porque promete a fusão da alma com o anonimato da divindade eterna.",
    "alternativaC": "Porque garante a preservação da espécie através de legados históricos.",
    "alternativaD": "Porque foca na transcendência do medo através de abstrações mentais.",
    "alternativaE": "Porque sugere a reencarnação cíclica para o progresso moral constante.",
    "respostaCorreta": "A",
    "tempoSegundos": 30,
    "justificativa": "Diferente de abstrações, o cristianismo oferece imortalidade pessoal e vitória sobre a morte mantendo a identidade individual."
  },
  {
    "enunciado": "No conteúdo de Terça-feira, que atitude específica Paulo recomenda como o antídoto contra a ansiedade?",
    "alternativaA": "O estudo intelectual aprofundado de todas as cerimônias da lei judaica.",
    "alternativaB": "A busca por isolamento em locais desertos para meditação filosófica.",
    "alternativaC": "A apresentação de pedidos a Deus com oração, súplica e ações de graças.",
    "alternativaD": "O desenvolvimento de técnicas de controle mental para ignorar os fatos.",
    "alternativaE": "A dependência exclusiva do apoio psicológico de outros líderes da igreja.",
    "respostaCorreta": "C",
    "tempoSegundos": 30,
    "justificativa": "O texto afirma que, para não ficarmos preocupados, devemos apresentar nossos pedidos a Deus com oração e gratidão."
  },
  {
    "enunciado": "Segundo o estudo de Terça-feira, o que o termo grego 'nous' indica sobre a natureza da paz de Deus?",
    "alternativaA": "Que ela é fruto de um alto nível de instrução e de sabedoria teológica.",
    "alternativaB": "Que ela exige o afastamento total de qualquer tipo de conflito exterior.",
    "alternativaC": "Que ela é uma emoção passageira que depende do estado de ânimo diário.",
    "alternativaD": "Que ela é o resultado direto da ausência de problemas na vida cotidiana.",
    "alternativaE": "Que ela excede a capacidade de compreensão da mente humana racional.",
    "respostaCorreta": "E",
    "tempoSegundos": 30,
    "justificativa": "O uso de 'nous' sugere que a paz de Deus impacta a vida de forma que não pode ser compreendida apenas pela mente racional."
  },
  {
    "enunciado": "No estudo de Quarta-feira, qual é a função da paz de Deus baseada na metáfora militar do termo 'phroureō'?",
    "alternativaA": "Atuar como um general que ordena a destruição imediata dos inimigos.",
    "alternativaB": "Servir como um escudo que impede o acesso de novos membros à igreja.",
    "alternativaC": "Funcionar como uma arma de ataque contra os sistemas de governo ímpios.",
    "alternativaD": "Atuar como uma guarnição de soldados protegendo corações e mentes.",
    "alternativaE": "Servir como um tribunal militar que julga as intenções de cada fiel.",
    "respostaCorreta": "D",
    "tempoSegundos": 30,
    "justificativa": "O termo 'phroureō' refere-se a soldados protegendo uma cidade, indicando que a paz de Deus guarda o interior do crente."
  },
  {
    "enunciado": "Conforme a lição de Quarta-feira, por que Paulo omitiu as virtudes cardeais gregas ao listar os temas para pensamento?",
    "alternativaA": "Porque os gregos não possuíam nenhum conceito de ética ou de moralidade.",
    "alternativaB": "Porque o foco de Paulo estava nas virtudes bíblicas baseadas em Deus.",
    "alternativaC": "Porque ele desejava criar uma nova filosofia separada do cristianismo.",
    "alternativaD": "Porque as virtudes gregas eram consideradas pecaminosas em qualquer nível.",
    "alternativaE": "Porque ele não conhecia a cultura de Filipos quando escreveu a epístola.",
    "respostaCorreta": "B",
    "tempoSegundos": 30,
    "justificativa": "Paulo foca nas virtudes bíblicas (verdade, justiça, pureza) em vez das virtudes cardeais gregas (prudência, temperança, etc.)."
  },
  {
    "enunciado": "Segundo o conteúdo de Quinta-feira, qual é o princípio revelado para viver com alegria independente da escassez ou da fartura?",
    "alternativaA": "Aprender a viver contente através do fortalecimento que vem de Cristo.",
    "alternativaB": "A acumulação preventiva de recursos para garantir estabilidade futura.",
    "alternativaC": "A negação psicológica do sofrimento através de mantras de positividade.",
    "alternativaD": "A dependência financeira constante de doações de outras congregações.",
    "alternativaE": "A crença de que a fidelidade religiosa trará sempre riquezas materiais.",
    "respostaCorreta": "A",
    "tempoSegundos": 30,
    "justificativa": "Paulo afirma que aprendeu o segredo de viver contente em toda situação, fortalecido por Aquele que o capacita."
  },
  {
    "enunciado": "No texto de Quinta-feira, qual explicação bíblica é dada para a ausência de bênçãos que estão em harmonia com a vontade de Deus?",
    "alternativaA": "A falta de cumprimento de ritos específicos de purificação diária.",
    "alternativaB": "O destino predeterminado que impede a mudança das circunstâncias.",
    "alternativaC": "A omissão do pedido direto em oração, conforme ensina Tiago 4:2.",
    "alternativaD": "A necessidade de Deus testar a lealdade através de privações eternas.",
    "alternativaE": "A insuficiência de obras de caridade para merecer a atenção divina.",
    "respostaCorreta": "C",
    "tempoSegundos": 30,
    "justificativa": "O texto cita Tiago 4:2 enfatizando que muitas vezes não recebemos certas bênçãos simplesmente porque não pedimos."
  },
  {
    "enunciado": "Conforme o estudo de Sexta-feira, qual é o perigo de concentrar os pensamentos excessivamente nas próprias falhas?",
    "alternativaA": "Aumentar a vigilância e tornar o cristão imune a novos pecados graves.",
    "alternativaB": "Gerar um sentimento de orgulho por ser mais consciente que os outros.",
    "alternativaC": "Promover uma reforma de caráter baseada no medo da punição final.",
    "alternativaD": "Diminuir a força necessária para vencer as próprias imperfeições.",
    "alternativaE": "Alcançar a perfeição mais rapidamente através do constante remorso.",
    "respostaCorreta": "D",
    "tempoSegundos": 30,
    "justificativa": "Ellen White alerta que quanto mais demoramos o pensamento em nossas imperfeições, menos força teremos para vencê-las."
  },
  {
    "enunciado": "De acordo com a lição de Sexta-feira, qual é a condição para que o cristão tenha poder proporcional às suas necessidades diárias?",
    "alternativaA": "Manter um cargo de alta relevância oficial na estrutura da igreja local.",
    "alternativaB": "Dominar profundamente os idiomas originais para entender cada preceito.",
    "alternativaC": "Realizar grandes sacrifícios públicos para ser visto como um fiel modelo.",
    "alternativaD": "Aguardar pacientemente por uma manifestação espiritual milagrosa futura.",
    "alternativaE": "Render-se diariamente a Deus para receber novas doses da Sua graça.",
    "respostaCorreta": "E",
    "tempoSegundos": 30,
    "justificativa": "O poder proporcional às necessidades vem daqueles que se rendem diariamente e recebem novas provisões da graça divina."
  }
]





### Buscar próxima pergunta não respondida (requer autenticação)
### Retorna uma pergunta aleatória que o usuário ainda não respondeu
GET {{baseUrl}}/api/quiz/{{quizId}}/perguntas
Cookie: next-auth.session-token={{sessionToken}}

### Listar todas as perguntas de um quiz (requer ADMIN)
### Use o query parameter ?admin=true para listar todas as perguntas ordenadas
GET {{baseUrl}}/api/quiz/{{quizId}}/perguntas?admin=true
Cookie: next-auth.session-token={{sessionToken}}

### ============================================
### RESPOSTAS E RESULTADOS
### ============================================

### Salvar resposta de uma pergunta (requer autenticação)
### Retorna a próxima pergunta não respondida ou o resultado final se terminou
POST {{baseUrl}}/api/quiz/resposta
Content-Type: application/json
Cookie: next-auth.session-token={{sessionToken}}

{
  "quizId": "{{quizId}}",
  "perguntaId": "ID_DA_PERGUNTA_AQUI",
  "alternativaEscolhida": "C"
}

### Salvar resposta sem alternativa (tempo esgotado)
### Se o tempo acabar, pode enviar null ou omitir alternativaEscolhida
POST {{baseUrl}}/api/quiz/resposta
Content-Type: application/json
Cookie: next-auth.session-token={{sessionToken}}

{
  "quizId": "{{quizId}}",
  "perguntaId": "ID_DA_PERGUNTA_AQUI",
  "alternativaEscolhida": null
}

### Obter resultado do quiz (requer autenticação)
### Retorna total de perguntas, acertos, erros e porcentagem
GET {{baseUrl}}/api/quiz/{{quizId}}/resultado
Cookie: next-auth.session-token={{sessionToken}}

### ============================================
### EXEMPLOS DE INSERÇÃO EM MASSA
### ============================================

### Exemplo: Criar quiz completo com múltiplas perguntas
### 1. Primeiro, crie o quiz
POST {{baseUrl}}/api/quiz
Content-Type: application/json
Cookie: next-auth.session-token={{sessionToken}}

{
  "tema": "Geografia do Brasil"
}

### 2. Copie o ID do quiz retornado e substitua {{quizId}} abaixo
### 3. Crie todas as perguntas de uma vez
POST {{baseUrl}}/api/quiz/{{quizId}}/perguntas
Content-Type: application/json
Cookie: next-auth.session-token={{sessionToken}}

[
  {
    "enunciado": "Qual é o maior estado do Brasil em área?",
    "alternativaA": "Amazonas",
    "alternativaB": "Pará",
    "alternativaC": "Mato Grosso",
    "alternativaD": "Minas Gerais",
    "alternativaE": "Bahia",
    "respostaCorreta": "A",
    "tempoSegundos": 30
  },
  {
    "enunciado": "Qual é a maior cidade do Brasil em população?",
    "alternativaA": "Rio de Janeiro",
    "alternativaB": "São Paulo",
    "alternativaC": "Brasília",
    "alternativaD": "Salvador",
    "alternativaE": "Fortaleza",
    "respostaCorreta": "B",
    "tempoSegundos": 30
  },
  {
    "enunciado": "Quantos países fazem fronteira com o Brasil?",
    "alternativaA": "8",
    "alternativaB": "9",
    "alternativaC": "10",
    "alternativaD": "11",
    "alternativaE": "12",
    "respostaCorreta": "C",
    "tempoSegundos": 45
  },
  {
    "enunciado": "Qual é o ponto mais alto do Brasil?",
    "alternativaA": "Pico da Neblina",
    "alternativaB": "Pico da Bandeira",
    "alternativaC": "Pedra da Mina",
    "alternativaD": "Pico do Calçado",
    "alternativaE": "Monte Roraima",
    "respostaCorreta": "A",
    "tempoSegundos": 40
  },
  {
    "enunciado": "Qual é o maior rio do Brasil?",
    "alternativaA": "Rio São Francisco",
    "alternativaB": "Rio Paraná",
    "alternativaC": "Rio Amazonas",
    "alternativaD": "Rio Tocantins",
    "alternativaE": "Rio Madeira",
    "respostaCorreta": "C",
    "tempoSegundos": 30
  }
]

### 4. Ative o quiz para que os usuários possam respondê-lo
PUT {{baseUrl}}/api/quiz/{{quizId}}
Content-Type: application/json
Cookie: next-auth.session-token={{sessionToken}}

{
  "ativo": true
}

### ============================================
### USANDO A API EM PRODUÇÃO
### ============================================
###
### Para usar as requisições em produção, substitua {{baseUrl}} por {{baseUrlProd}}:
###
### Exemplo de requisição em produção:
### GET {{baseUrlProd}}/api/quiz/ativo
### Cookie: next-auth.session-token={{sessionToken}}
###
### IMPORTANTE: Para obter o sessionToken em produção:
### 1. Acesse sua aplicação em produção (ex: https://seu-projeto.vercel.app)
### 2. Faça login no navegador
### 3. Abra DevTools (F12) > Application > Cookies
### 4. Copie o valor de "next-auth.session-token" (ou "__Secure-next-auth.session-token")
### 5. Cole no @sessionToken acima

### ============================================
### NOTAS IMPORTANTES
### ============================================
###
### 1. AUTENTICAÇÃO:
###    - A maioria das rotas requer autenticação via cookie de sessão
###    - Para obter o token: faça login no navegador, abra DevTools > Application > Cookies
###    - Copie o valor de "next-auth.session-token" (ou "__Secure-next-auth.session-token" em HTTPS)
###    - Cole no header Cookie: next-auth.session-token=SEU_TOKEN
###
### 2. PERMISSÕES:
###    - Rotas de criação/edição/deleção de quiz: requerem role ADMIN
###    - Rotas de criação de perguntas: requerem role ADMIN
###    - Rotas de resposta: qualquer usuário autenticado
###
### 3. VALIDAÇÕES:
###    - Enunciado: obrigatório, não pode ser vazio
###    - Alternativas: todas as 5 (A, B, C, D, E) são obrigatórias
###    - Resposta correta: deve ser "A", "B", "C", "D" ou "E"
###    - Tempo em segundos: deve ser maior que 0
###
### 4. TRANSACTION:
###    - Ao criar múltiplas perguntas, todas são criadas em uma transação
###    - Se qualquer pergunta for inválida, nenhuma será criada (rollback completo)
###
### 5. QUIZ ATIVO:
###    - Apenas um quiz pode estar ativo por vez
###    - Ao ativar um quiz, todos os outros são desativados automaticamente
###
### 6. RESPOSTAS:
###    - Cada usuário só pode responder cada pergunta uma vez
###    - Se o tempo acabar, pode enviar alternativaEscolhida como null
###    - Após responder, retorna próxima pergunta ou resultado final

